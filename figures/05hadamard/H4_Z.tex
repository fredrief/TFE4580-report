% !TEX root = ../../report.tex
\begin{circuitikz}[scale=0.6, transform shape]
    \ctikzset{resistor = european}

    % BOX
    \node[anchor=north west, draw, ultra thick, minimum width=20.5cm, minimum height=20cm] at (-2.5,2.5) {};

    % LABELS
    \foreach \y in {0,1,2,3}{
        \node[above]() at (-3, -5*\y + 0.5) {\bm{$+$}};
        \node[below]() at (-3, -5*\y - 0.5) {\bm{$-$}};
        \node[above]() at (18.5, -5*\y + 0.5) {\bm{$+$}};
        \node[below]() at (18.5, -5*\y - 0.5) {\bm{$-$}};
    }

    % OUTPUTS
    \foreach \y in {0,-5,-10,-15}{
        \draw (2,\y + 0.5) -- ++(0,1) -- ++(15,0) to[short, -*] ++(0,-1) to[short, -o] ++(2,0);
        \draw (2,\y - 0.5) -- ++(0,-1) -- ++(15,0) to[short, -*] ++(0,1) to[short, -o] ++(2,0);
        \draw (7,\y + 0.5) to[short, -*] ++(0,1);
        \draw (7,\y - 0.5) to[short, -*] ++(0,-1);
        \draw (12,\y +  0.5) to[short, -*] ++(0,1);
        \draw (12,\y - 0.5) to[short, -*] ++(0,-1);
    }

    % INPUT 1
    \draw (-3.5,0.5) to[short, o-*] (-1.5,0.5) -- ++(0.5,0);
    \draw (-3.5,-0.5) to[short, o-*] (-1,-0.5);
    \draw (-1.5,0.5) to[short, -*] (-1.5,0.5-5) -- ++(0.5, 0);
    \draw (-1.5,0.5-5) to[short, -*] (-1.5,0.5-10) -- ++(0.5, 0);
    \draw (-1.5,0.5-10) to[short, -] (-1.5,0.5-15) -- ++(0.5, 0);
    \draw (-1,-0.5) to[short, -*] (-1,-0.5-5);
    \draw (-1,-0.5-5) to[short, -*] (-1,-0.5-10);
    \draw (-1,-0.5-10) to[short, -] (-1,-0.5-15);

    % INPUT 2
    \draw (-3.5,0.5-5) to[short, o-] (-2,0.5-5) -- ++(0,1.5) to[short, -*] ++(5.5, 0) coordinate[](22p);
    \draw (-3.5,-0.5-5) to[short, o-] (-2,-0.5-5) -- ++(0,-1.5) to[short, -*] ++(6, 0) coordinate[](22n);
    \draw (22p) to[short, -] ++(0,3.5) -- ++(0.5,0);
    \draw (22p) to[short, -*] ++(0,-1.5) -- ++(0.5,0);
    \draw (22p) ++(0,-1.5) to[short, -*] ++(0,-5) -- ++(0.5,0);
    \draw (22p) ++(0,-6.5) to[short, -] ++(0,-5) -- ++(0.5,0);

    \draw (22n) to[short, -*] ++(0,1.5) -- ++(0,5);
    \draw (22n) to[short, -*] ++(0,-3.5) -- ++(0,-5);

    % INPUT 3
    \draw (-3.5,0.5-10) to[short, o-] (-2,0.5-10) -- ++(0,1.5) to[short, -*] ++(10.5, 0) coordinate[](33p);
    \draw (-3.5,-0.5-10) to[short, o-] (-2,-0.5-10) -- ++(0,-1.5) to[short, -*] ++(11, 0) coordinate[](33n);
    \draw (33p) to[short, -*] ++(0,3.5) -- ++(0.5,0);
    \draw (33p) ++(0,3.5) to[short, -] ++(0,5) -- ++(0.5,0);
    \draw (33p) to[short, -*] ++(0,-1.5) -- ++(0.5,0);
    \draw (33p) ++(0,-1.5) to[short, -] ++(0,-5) -- ++(0.5,0);

    \draw (33n) to[short, -*] ++(0,1.5) to[short, -*] ++(0,5) -- ++(0,5);
    \draw (33n) to[short, -] ++(0,-3.5);

    % INPUT 4
    \draw (-3.5,0.5-15) to[short, o-] (-2,0.5-15) -- ++(0,1.5) to[short, -*] ++(15.5, 0) coordinate[](44p);
    \draw (-3.5,-0.5-15) to[short, o-] (-2,-0.5-15) -- ++(0,-1.5) to[short, -] ++(16, 0) coordinate[](44n);
    \draw (44p) to[short, -] ++(0,-1.5) -- ++(0.5,0);
    \draw (44p) to[short, -*] ++(0,3.5) -- ++(0.5,0);
    \draw (44p) ++(0,3.5) to[short, -*] ++(0,5) -- ++(0.5,0);
    \draw (44p) ++(0,8.5) to[short, -] ++(0,5) -- ++(0.5,0);

    \draw (44n) to[short, -*] ++(0,1.5) to[short, -*] ++(0,5) to[short, -*] ++(0,5) to[short, -] ++(0,5);

    % MATRIX
    \foreach \x/\y/\i in {0/0/0, 5/0/0, 10/0/0, 15/0/0}{
        \draw (\x-1, \y+0.5) to[R, l=$Z$] (\x+1, \y+0.5) -- ++(0.5, -1*\i) -- ++(0.5, 0);
        \draw (\x-1, \y-0.5) to[R, l_=$Z$] (\x+1, \y-0.5) -- ++(0.5, \i) -- ++(0.5, 0);
    }

    \foreach \x/\y/\i in {0/-5/0, 5/-5/1, 10/-5/0, 15/-5/1}{
        \draw (\x-1, \y+0.5) to[R, l=$Z$] (\x+1, \y+0.5) -- ++(0.5, -1*\i) -- ++(0.5, 0);
        \draw (\x-1, \y-0.5) to[R, l_=$Z$] (\x+1, \y-0.5) -- ++(0.5, \i) -- ++(0.5, 0);
    }

    \foreach \x/\y/\i in {0/-10/0, 5/-10/0, 10/-10/1, 15/-10/1}{
        \draw (\x-1, \y+0.5) to[R, l=$Z$] (\x+1, \y+0.5) -- ++(0.5, -1*\i) -- ++(0.5, 0);
        \draw (\x-1, \y-0.5) to[R, l_=$Z$] (\x+1, \y-0.5) -- ++(0.5, \i) -- ++(0.5, 0);
    }

    \foreach \x/\y/\i in {0/-15/0, 5/-15/1, 10/-15/1, 15/-15/0}{
        \draw (\x-1, \y+0.5) to[R, l=$Z$] (\x+1, \y+0.5) -- ++(0.5, -1*\i) -- ++(0.5, 0);
        \draw (\x-1, \y-0.5) to[R, l_=$Z$] (\x+1, \y-0.5) -- ++(0.5, \i) -- ++(0.5, 0);
    }



\end{circuitikz}
