% !TEX root = ../../report.tex

\begin{tikzpicture}
    % --------------------- Nodes -------------------------------- %
    \node[box,anchor=north, minimum width=8cm, minimum height=6cm](as_model) at (3,3) {};
    \node[above=1mm of as_model]{Analog System (AS)};
    \node[box] (B) at (0,0) {$\Bmat$};
    \node[circle, draw, inner sep=0.5mm] (add) at (1.5,0) {\Large+};
    \node[box, minimum height=2cm] (ci) at (3,0) {\ci};
    \node[box] (gamma_tilde) at (6,0) {$\GmattildeT$};
    \node[box, dashed] (C) at (6,2) {$\CmatT$};
    \node[box] (A) at (3,2) {$\Amat$};
    \node[box] (gamma) at (1.5,-2) {$\Gmat$};

    % --------------------- Paths -------------------------------- %
    \draw[arrow] (-1.5, 0) node[left]{$\utv$} -- (B.west);
    \draw[arrow] (B.east) -- (add.west);
    \draw[arrow] (gamma.north) -- (add.south);
    \draw[arrow] (A.west) -| (add.north);
    \draw[arrow] (add.east) -- (ci.west);
    \draw[arrow] (ci.east) -- (gamma_tilde.west);
    \draw (ci.east)  ++(1, 0) to[short, *-] ++(0,2) coordinate[](x){};
    \draw[arrow] (x) to[short, *-] (A.east);
    \draw[arrow, dashed] (x) -- (C.west);
    \draw[arrow, dashed] (C.east) -- ++(1.5, 0) node[right]{$\ytv$};
    \draw[arrow] (gamma_tilde.east) -- ++(1.5, 0) node[right]{$\stvtilde$};
    \draw[arrow] (gamma.south) ++(0,-1) node[below]{$\stv$} -- ++(0, 1);

\end{tikzpicture}
